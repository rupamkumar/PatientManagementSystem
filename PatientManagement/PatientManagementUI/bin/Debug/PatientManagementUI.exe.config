<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <section name="modules" type ="Microsoft.Practices.Prism.Modularity.ModulesConfigurationSection, Microsoft.Practices.Prism.Composition"/>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net"/>
  </configSections>
    <startup> 
        <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.6.1" />
    </startup>
  <modules>
    <module assemblyFile="PatientManagement.PatientStorage.dll" moduleType="PatientManagement.PatientStorage.PatientModuleManager, PatientManagement.PatientStorage, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" moduleName="PatientModuleManager" startupLoaded="true" />
    <module assemblyFile="PatientManagement.PatientVault.dll" moduleType="PatientManagement.PatientVault.PatientsVaultModule, PatientManagement.PatientVault, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" moduleName="PatientsVaultModule" startupLoaded="true" />
    <module assemblyFile="PatientManagement.TMS.dll" moduleType="PatientManagement.TMS.TMSManager, PatientManagement.TMS, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" moduleName="TMSManager" startupLoaded="true" />
    <module assemblyFile="PatientManagement.CommandCentre.dll" moduleType="PatientManagement.CommandCentre.CommandCentreManager, PatientManagement.CommandCentre, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" moduleName="CommandCentreManager" startupLoaded="true" />
    <module assemblyFile="PatientManagement.Administration.dll" moduleType="PatientManagement.Administration.AdministrationManager, PatientManagement.Administration, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" moduleName="AdministrationManager" startupLoaded="true" />
    
  </modules>
  <connectionStrings>
    <add name="PmsModel" connectionString="Data Source=WIN-2012\MSSQL14;Initial Catalog=PMS;Integrated Security=True" providerName="System.Data.SqlClient" />
  </connectionStrings>

  <appSettings>
    <add key ="DataConnection" value="PmsModel"/>
    <add key ="Binding" value="tcpEP"/>

    <add key="baseAddressToken" value="http://192.168.2.3:8785/services/oauth/token"/>
    <add key="grant_type" value="password"/>
    <add key="client_id" value="rupstore"/>
    <add key="client_secret" value="rupstoresecret"/>
    <add key="username" value="nila"/>
    <add key="password" value="Anupa@7575"/>
  </appSettings>

  <log4net>
    <root>
      <level value="ALL"/>
      <appender-ref ref="FileAppender"></appender-ref>
    </root>
    <appender name="FileAppender" type="log4net.Appender.FileAppender">
      <file value="C:\\temp\\log\\test.log"/>
    <appendToFile value="true"/>
    <layout type="log4net.Layout.PatternLayout">
      <conversionPattern value="%date [%thread] %-5level %logger [%property{NDC}] [%identity] - %message%newline"/>
    </layout>
    </appender>   
    
  </log4net>
  
  <system.serviceModel>
    <client>
      <!--<endpoint address="net.tcp://localhost:8090/ClinickManager"
                binding="netTcpBinding" bindingConfiguration="NetTcpBinding_IBroadcastorService"
                contract="DataAccess.Contracts.IBroadcastorService" name="NetTcpBinding_IBroadcastorService" />-->

      <endpoint address="http://win-2012/BroadcastorService"
                binding ="wsDualHttpBinding" bindingConfiguration="wsDualHttpBindingConfig"
                contract="DataAccess.Contracts.IBroadcastorService">
      </endpoint>
      <endpoint address="http://win-2012/PatientService"
                binding ="wsDualHttpBinding" bindingConfiguration="wsDualHttpBindingConfig"
                contract="DataAccess.Contracts.IPatientService">
      </endpoint>
      <!--<endpoint address="http://localhost/PatientService"
                binding ="basicHttpBinding"
                contract="DataAccess.Contracts.IPatientService" name="httpEP">
      </endpoint>-->
      <endpoint address="net.tcp://localhost:8070/MessageService"
                binding="netTcpBinding"
                contract="DataAccess.Client.Contracts.IMessageService" />
    </client>
    <bindings>
      <netTcpBinding>
        <binding name="NetTcpBinding_IBroadcastorService" />
        <binding sendTimeout="00:10:00" maxReceivedMessageSize="2000000" receiveTimeout="00:20:00">
          <reliableSession enabled="true" inactivityTimeout="00:20:00" ordered="true" />
        </binding>
      </netTcpBinding>

      <wsDualHttpBinding>
        <binding name="wsDualHttpBindingConfig">
          <security mode="Message"></security>
        </binding>
      </wsDualHttpBinding>
    </bindings>
  </system.serviceModel>
  
</configuration>